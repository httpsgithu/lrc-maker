(()=>{var e={2435:(e,t,a)=>{var n={"./en-US.js":5183,"./ja.js":2869,"./ko-KR.js":1131,"./zh-CN.js":7004,"./zh-HK.js":5187,"./zh-TW.js":3904};function r(e){return c(e).then(a)}function c(e){return Promise.resolve().then((()=>{if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}r.keys=()=>Object.keys(n),r.resolve=c,r.id=2435,e.exports=r},4135:(e,t,a)=>{"use strict";a.d(t,{w:()=>p,T:()=>m});var n=a(3940),r=a(5183);const c=()=>{const[e,t]=React.useState(r.language);return[e,React.useCallback((e=>{return r=e,(0,n.mG)(void 0,void 0,void 0,(function*(){const{language:e}=yield a(2435)(`./${r}.js`);t(e)}));var r}),[])]};var o=a(6523),l=a(5425);const{createContext:i,useEffect:s,useMemo:u}=React,m=i(void 0,((e,t)=>{let a=0;return e.lang!==t.lang&&(a|=1),e.prefState.builtInAudio!==t.prefState.builtInAudio&&(a|=2),e.prefState!==t.prefState&&(a|=4),a})),p=({children:e})=>{const[t,a]=(0,o.f6)((()=>localStorage.getItem("lrc-maker-preferences")||"")),[n,r]=c();s((()=>{r(t.lang).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[t.lang,r]),s((()=>{document.title=n.app.fullname,document.documentElement.lang=t.lang}),[n,t,t.lang]);const i=u((()=>({lang:n,prefState:t,prefDispatch:a,trimOptions:{trimStart:t.spaceStart>=0,trimEnd:t.spaceEnd>=0}})),[n,a,t]);return React.createElement(m.Provider,{value:i},e)}},7061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Eidtor:()=>v});var n=a(5582),r=a(1632),c=a(6130),o=a(4135),l=a(4257),i=a(5425);const{useCallback:s,useContext:u,useEffect:m,useMemo:p,useRef:d,useState:h}=React,g={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},f=(e,t)=>{const a=(n=t,r=d(null),null!=n?n:r);var n,r;return m((()=>{a.current&&(a.current.value=e)}),[e,a]),{ref:a,defaultValue:e}},v=({lrcState:e,lrcDispatch:t})=>{const{prefState:a,lang:m,trimOptions:v}=u(o.T),y=s((e=>{t({type:0,payload:{text:e.target.value,options:v}})}),[t,v]),R=s((e=>{const{name:a,value:n}=e.target;t({type:3,payload:{name:a,value:n}})}),[t]),E=(0,n.Pz)(e,a),b=d(null),w=s((()=>{sessionStorage.setItem("editor-details-open",b.current.open.toString())}),[]),x=p((()=>"false"!==sessionStorage.getItem("editor-details-open")),[]),k=d(null),[N,T]=h(void 0),S=s((()=>{T((e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([k.current.value],{type:"text/plain;charset=UTF-8"})))))}),[]),C=s((e=>{if(null===e.target.files||0===e.target.files.length)return;const a=new FileReader;a.addEventListener("load",(()=>{t({type:0,payload:{text:a.result,options:v}})})),a.readAsText(e.target.files[0],"UTF-8")}),[t,v]),L=s((()=>{var e;null===(e=k.current)||void 0===e||e.select(),document.execCommand("copy")}),[]),I=p((()=>(0,c.L)(e.info)),[e.info]),G=p((()=>null!==localStorage.getItem("lrc-maker-oauth-token")&&null!==localStorage.getItem("lrc-maker-gist-id")),[]),M=s((()=>{setTimeout((()=>{const e=prompt(m.editor.saveFileName,I);e&&(0,r.cn)(e,k.current.value).catch((e=>{i.N.pub({type:"warning",text:e.message})}))}),500)}),[I,m]);return React.createElement("div",{className:"app-editor"},React.createElement("details",{ref:b,open:x,onToggle:w},React.createElement("summary",null,m.editor.metaInfo),React.createElement("section",{className:"app-editor-infobox",onBlur:R},React.createElement("label",{htmlFor:"info-ti"},"[ti:"),React.createElement("input",Object.assign({id:"info-ti",name:"ti",placeholder:m.editor.title},g,f(e.info.get("ti")||""))),React.createElement("label",{htmlFor:"info-ti"},"]"),React.createElement("label",{htmlFor:"info-ar"},"[ar:"),React.createElement("input",Object.assign({id:"info-ar",name:"ar",placeholder:m.editor.artist},g,f(e.info.get("ar")||""))),React.createElement("label",{htmlFor:"info-ar"},"]"),React.createElement("label",{htmlFor:"info-al"},"[al:"),React.createElement("input",Object.assign({id:"info-al",name:"al",placeholder:m.editor.album},g,f(e.info.get("al")||""))),React.createElement("label",{htmlFor:"info-al"},"]"))),React.createElement("section",{className:"editor-tools"},React.createElement("label",{className:"editor-tools-item ripple",title:m.editor.uploadText},React.createElement("input",{hidden:!0,type:"file",accept:"text/*, .txt, .lrc",onChange:C}),React.createElement(l.Sb,null)),React.createElement("button",{className:"editor-tools-item ripple",title:m.editor.copyText,onClick:L},React.createElement(l.sT,null)),React.createElement("a",{className:"editor-tools-item ripple",title:m.editor.downloadText,href:N,onClick:S,download:I},React.createElement(l.ID,null)),React.createElement("a",{title:m.editor.saveToGist,href:G?void 0:"#/gist/",className:"editor-tools-item ripple",onClick:G?M:void 0},React.createElement(l.Eo,null)),React.createElement("a",{title:m.editor.utils,href:"/lrc-utils/",className:"editor-tools-item ripple"},React.createElement(l.k3,null))),React.createElement("textarea",Object.assign({className:"app-textarea","aria-label":"lrc input here",onBlur:y},g,f(E,k))))}},3487:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Gist:()=>h});var n=a(1632),r=a(4135),c=a(4350),o=a(4257),l=a(5425);const{useCallback:i,useContext:s,useEffect:u,useMemo:m,useState:p}=React,d={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},h=({lrcDispatch:e,langName:t})=>{const{lang:a,trimOptions:h}=s(r.T),[f,v]=p((()=>localStorage.getItem("lrc-maker-oauth-token"))),[y,R]=p((()=>localStorage.getItem("lrc-maker-gist-id"))),[E,b]=p(void 0),[w,x]=p((()=>JSON.parse(localStorage.getItem("lrc-maker-gist-file")))),k=m((()=>JSON.parse(sessionStorage.getItem("x-ratelimit"))),[]),N=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("token").value;localStorage.setItem("lrc-maker-oauth-token",t),v(t)}),[]),T=i((()=>{(0,n.xf)().then((e=>{localStorage.setItem("lrc-maker-gist-id",e.id),R(e.id)})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[]),S=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("gist-id").value;localStorage.setItem("lrc-maker-gist-id",t),R(t),(0,n.kf)().catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[]);u((()=>{null===y&&null!==f&&"HTMLDataListElement"in window&&(0,n.uE)().then((e=>{b(e.filter((e=>"https://lrc-maker.github.io"===e.description&&".lrc-maker"in e.files)).map((({id:e})=>e)))})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[f,y]),u((()=>{null!==y&&(0,n.Lf)().then((e=>{if(null===e)return;const t=Object.values(e.files).filter((e=>e.filename.endsWith(".lrc")));localStorage.setItem("lrc-maker-gist-file",JSON.stringify(t,["filename","content","truncated","raw_url"])),x(t)})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[y]);const C=i((t=>{const a=t.target;if(!("key"in a.dataset))return;const n=Number.parseInt(a.dataset.key,10),r=null==w?void 0:w[n];r&&(r.truncated?fetch(r.raw_url).then((e=>e.text())).then((t=>{e({type:0,payload:{text:t,options:h}})})).catch((e=>{l.N.pub({type:"warning",text:e.message})})):e({type:0,payload:{text:r.content,options:h}}))}),[w,e,h]),L=i((()=>{R(null),v(null)}),[]),I=m((()=>{if(null===k)return!1;const e=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(1e3*Number.parseInt(k["x-ratelimit-reset"],10)));return React.createElement("section",{className:"ratelimit"},React.createElement("p",null,"ratelimit-limit: ",k["x-ratelimit-limit"]),React.createElement("p",null,"ratelimit-remaining: ",k["x-ratelimit-remaining"]),React.createElement("p",null,"ratelimit-reset: ",e))}),[k,t]),G=i((()=>null!==y&&null!==f?React.createElement("details",{className:"gist-details"},React.createElement("summary",null,a.gist.info),React.createElement("section",{className:"gist-bar"},React.createElement("section",{className:"gist-info"},React.createElement("p",null,"Gist id: ",React.createElement("a",{href:`https://gist.github.com/${y}`,target:"_blank",rel:"noopener noreferrer",className:"link"},y)),React.createElement("button",{className:"button",onClick:L},a.gist.clearTokenAndGist)),I)):null),[y,f,a.gist.info,a.gist.clearTokenAndGist,L,I]),M=m((()=>{if(null===f)return React.createElement("section",{className:"new-token"},React.createElement(o.H_,null),React.createElement("p",{className:"new-token-tip-text"},a.gist.newTokenTip),React.createElement("a",{className:"new-token-tip button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/settings/tokens/new?scopes=gist&description=https://lrc-maker.github.io"},a.gist.newTokenButton),React.createElement("form",{className:"new-token-form",onSubmit:N},React.createElement("label",{htmlFor:"github-token"},"Token:"),React.createElement("input",Object.assign({type:"text",className:"new-token-input",id:"github-token",name:"token",key:"token",minLength:40,maxLength:40,required:!0},d)),React.createElement("input",{className:"new-token-submit button",type:"submit"})))}),[f,a.gist.newTokenTip,a.gist.newTokenButton,N]),O=m((()=>{if(null===y){const e=e=>React.createElement("option",{key:e,value:e}),t=E&&React.createElement("datalist",{id:"gist-list"},E.map((t=>e(t))),";");return React.createElement("section",{className:"get-gist-id"},React.createElement(o.H_,null),React.createElement("p",{className:"gist-id-tip-text"},a.gist.newGistTip),React.createElement("button",{className:"create-new-gist button",onClick:T},a.gist.newGistRepoButton),React.createElement("form",{className:"gist-id-form",onSubmit:S},React.createElement("label",{htmlFor:"gist-id"},"Gist id:"),React.createElement("input",Object.assign({type:"text",className:"gist-id-input",id:"gist-id",name:"gist-id",key:"gist-id",list:"gist-list",placeholder:a.gist.gistIdPlaceholder,required:!0},d)),React.createElement("input",{className:"button",type:"submit"}),t))}}),[y,E,a.gist.newGistTip,a.gist.newGistRepoButton,a.gist.gistIdPlaceholder,T,S]),z=m((()=>{if(null!==w){const e=(e,t)=>React.createElement("article",{className:"file-item",key:e.raw_url},React.createElement("section",{className:"file-content"},e.content),React.createElement("hr",null),React.createElement("section",{className:"file-bar"},React.createElement("span",{className:"file-title"},e.filename),React.createElement("span",{className:"file-action"},React.createElement("a",{className:"file-load",href:"#/editor/","data-key":t},React.createElement(o.JF,null)),React.createElement("a",{className:"file-load",href:"#/synchronizer/","data-key":t},React.createElement(o.dZ,null)))));return 0===w.length?React.createElement("section",{className:"gist-no-data"},React.createElement(c.DL,null)):React.createElement("section",{className:"file-list",onClick:C},w.map(e))}}),[w,C]);return React.createElement("div",{className:"gist"},React.createElement(G,null),M||O||z||React.createElement(g,null))},g=()=>React.createElement("section",{className:"gist-loading"},React.createElement(c.WQ,null))},7425:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Preferences:()=>g});var n=a(6523),r=a(5582),c=a(3940);var o=a(4135),l=a(4350);const{useCallback:i,useContext:s,useEffect:u,useMemo:m,useRef:p}=React,d={type:"number",step:1},h=(e,t)=>{const a=p(null);u((()=>{const t=a.current;if(t){const a=()=>{t.value=e.toString()};return t.addEventListener("change",a),()=>t.removeEventListener("change",a)}}),[e]);const n=i((e=>{e.target.validity.valid&&t(e)}),[t]);return Object.assign(Object.assign({},d),{ref:a,onChange:n,defaultValue:e})},g=()=>{const{prefState:e,prefDispatch:t,lang:a}=s(o.T,1),d=i((e=>{t({type:"themeColor",payload:e.target.value})}),[t]),g=p(null),f=i((e=>{let a=e.value;e.validity.valid?(3===a.length&&(a=[].map.call(a,(e=>e+e)).join("")),a.length<6&&(a=a.padEnd(6,"0")),t({type:"themeColor",payload:"#"+a})):e.value=e.defaultValue}),[t]),v=i((e=>f(e.target)),[f]),y=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("user-color-input-text");return f(t)}),[f]);u((()=>{g.current.value=e.themeColor.slice(1)}),[e.themeColor]);const R=i((e=>{t({type:e.target.name,payload:e.target.value})}),[t]),E=i((()=>{(0,c.mG)(void 0,void 0,void 0,(function*(){"serviceWorker"in navigator&&(yield caches.keys().then((e=>Promise.all(e.filter((e=>e.startsWith("akari-lrc-maker"))).map((e=>caches.delete(e)))))),yield navigator.serviceWorker.getRegistration().then((e=>{e&&e.unregister().then((()=>{location.reload()}))})))}))}),[]),b=m((()=>{const t=new Date("2022-01-22T10:12:16+08:00");return new Intl.DateTimeFormat(e.lang,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short",hour12:!1}).format(t)}),[e.lang]),w=i((e=>{t({type:"lang",payload:e.target.value})}),[t]),x=i((()=>t({type:"builtInAudio",payload:e=>!e.builtInAudio})),[t]),k=i((()=>t({type:"screenButton",payload:e=>!e.screenButton})),[t]),N=i((e=>{t({type:"themeMode",payload:Number.parseInt(e.target.value,10)})}),[t]),T=i((e=>{t({type:"fixed",payload:Number.parseInt(e.target.value,10)})}),[t]),S=m((()=>Object.entries(n.um.languages).map((([e,t])=>React.createElement("option",{key:e,value:e},t)))),[]),C=m((()=>Object.values(n.EN).map((t=>{const a=t===e.themeColor,n=["color-picker","ripple"];return a&&n.push("checked"),React.createElement("label",{className:n.join(" "),key:t,style:{backgroundColor:t}},React.createElement("input",{hidden:!0,type:"radio",name:"theme-color",value:t,checked:a,onChange:d}))}))),[d,e.themeColor]),L=m((()=>({backgroundColor:e.themeColor})),[e.themeColor]),I=m((()=>(0,r.RZ)("   hello   世界～   ",e.spaceStart,e.spaceEnd)),[e.spaceStart,e.spaceEnd]),G=p(null),M=p(null);return u((()=>{"color"===M.current.type&&G.current.removeAttribute("for")}),[]),React.createElement("div",{className:"preferences"},React.createElement("ul",null,React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.version),React.createElement("span",{className:"select-all"},"5.5.2"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.commitHash),React.createElement("span",{className:"select-all"},"3e370a3"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.updateTime),React.createElement("span",null,b))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.repo),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker",target:"_blank",rel:"noopener noreferrer"},"Github"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.help),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker/wiki",target:"_blank",rel:"noopener noreferrer"},"Github Wiki"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.language),React.createElement("div",{className:"option-select"},React.createElement("select",{value:e.lang,onChange:w,"aria-label":a.preferences.language},S)))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,a.preferences.builtInAudio),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.builtInAudio,onChange:x,"aria-label":a.preferences.builtInAudio}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,a.preferences.spaceButton),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.screenButton,onChange:k,"aria-label":a.preferences.spaceButton}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.themeMode.label),React.createElement("div",{className:"option-select"},React.createElement("select",{name:"theme-mode",value:e.themeMode,onChange:N,"aria-label":a.preferences.themeMode.label},React.createElement("option",{value:0},a.preferences.themeMode.auto),React.createElement("option",{value:1},a.preferences.themeMode.light),React.createElement("option",{value:2},a.preferences.themeMode.dark))))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.themeColor),React.createElement("details",{className:"dropdown"},React.createElement("summary",null,React.createElement("span",{className:"color-picker ripple hash",style:L},"#"),React.createElement("span",{className:"current-theme-color"},e.themeColor.slice(1))),React.createElement("form",{className:"dropdown-body color-wall",onSubmit:y},C,React.createElement("label",{className:"color-picker ripple user-color-label hash",htmlFor:"user-color-input-text",style:L,ref:G},"#",React.createElement("input",{type:"color",className:"color-picker pseudo-hidden",value:e.themeColor,onChange:d,ref:M})),React.createElement("input",{ref:g,id:"user-color-input-text",name:"user-color-input-text",className:"user-color-input-text",type:"text",pattern:"[\\da-f]{3,6}",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,defaultValue:e.themeColor.slice(1),onBlur:v}))))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.lrcFormat),React.createElement("span",null,React.createElement("time",{className:"format-example-time"},(0,r.Zr)(83.456,e.fixed)),React.createElement("span",{className:"format-example-text"},I)))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.fixed),React.createElement("div",{className:"option-select"},React.createElement("select",{name:"fixed",value:e.fixed,onChange:T,"aria-label":a.preferences.lrcFormat},React.createElement("option",{value:0},"0"),React.createElement("option",{value:1},"1"),React.createElement("option",{value:2},"2"),React.createElement("option",{value:3},"3"))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-start"},a.preferences.leftSpace),React.createElement("input",Object.assign({name:"spaceStart",id:"space-start",required:!0,min:-1},h(e.spaceStart,R))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-end"},a.preferences.rightSpace),React.createElement("input",Object.assign({name:"spaceEnd",id:"space-end",required:!0,min:-1},h(e.spaceEnd,R))))),React.createElement("li",{className:"ripple",onTransitionEnd:E},React.createElement("section",{className:"list-item"},a.preferences.clearCache))),React.createElement(l.Pp,null))}},4350:(e,t,a)=>{"use strict";a.d(t,{Pp:()=>n,DL:()=>r,WQ:()=>c});const n=()=>React.createElement("img",{className:"akari-hide-wall",alt:"akari-hide-wall",src:"./svg/akari-hide-wall.svg",crossOrigin:"anonymous"}),r=()=>React.createElement("img",{className:"akari-not-found",alt:"not found",src:"./svg/akari-not-found.svg",crossOrigin:"anonymous"}),c=()=>React.createElement("img",{className:"akari-odango-loading start-loading",alt:"loading",src:"./svg/akari-odango-loading.svg",crossOrigin:"anonymous"})},4257:(e,t,a)=>{"use strict";a.d(t,{DP:()=>n,JF:()=>r,dZ:()=>c,il:()=>o,gO:()=>l,X0:()=>i,nf:()=>s,fm:()=>u,gi:()=>m,Mq:()=>p,b2:()=>d,ID:()=>h,hL:()=>g,sT:()=>f,Sb:()=>v,Eo:()=>y,H_:()=>R,Jm:()=>E,go:()=>b,Cn:()=>w,k3:()=>x});const n=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"})),r=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),c=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8a.5.5 0 0 0-.85.36zM8.6 17H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm5.6 5H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zm0 4H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1z"})),o=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"})),l=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),i=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"})),s=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"})),u=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.26-2.14 3.99-4.39 4.53-3.64.88-6.93-1.6-7.42-4.96-.06-.49-.48-.86-.97-.86-.6 0-1.08.53-1 1.13.63 4.47 4.94 7.75 9.77 6.67 3.09-.69 5.39-3.08 5.99-6.19C20.84 9.48 16.94 5 12 5zm-1.31 8.9l.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15c.11 0 .2-.02.27-.06s.14-.1.18-.17.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z"})),m=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M18.87 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.27 10.42 8.22 7 11.95 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L12.8 1.85c-.31-.31-.85-.09-.85.35V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-6.44 2.15c-.05.07-.11.13-.18.17s-.17.06-.27.06c-.17 0-.31-.05-.42-.15s-.17-.24-.19-.41h-.84c.01.2.05.37.13.53s.19.28.32.39.29.19.46.24.35.08.53.08c.24 0 .46-.04.64-.12s.33-.18.45-.31.21-.28.27-.45.09-.35.09-.54c0-.22-.03-.43-.09-.6s-.14-.33-.25-.45-.25-.22-.41-.28-.34-.1-.55-.1c-.07 0-.14.01-.2.02s-.13.02-.18.04-.1.03-.15.05-.08.04-.11.05l.11-.92h1.7v-.71H10.9l-.25 2.17.67.17c.03-.03.06-.06.1-.09s.07-.05.12-.07.1-.04.15-.05.13-.02.2-.02c.12 0 .22.02.3.05s.16.09.21.15.1.14.13.24.04.19.04.31-.01.22-.03.31-.06.17-.11.24z"})),p=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7.35 6.35l-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z"})),d=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{opacity:".3",d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z"}),React.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),h=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z"})),g=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{className:"lock-open",d:"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8z"}),React.createElement("path",{className:"lock-close",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})),f=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"})),v=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),y=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})),R=()=>React.createElement("svg",{className:"github-svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},React.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})),E=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"})),b=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"})),w=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M2.73 21h18.53c.77 0 1.25-.83.87-1.5l-9.27-16c-.39-.67-1.35-.67-1.73 0l-9.27 16c-.38.67.1 1.5.87 1.5zM13 18h-2v-2h2v2zm-1-4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1z"})),x=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M8.2 10.5c-.4-.3-1-.5-1.5-.4 0 0-3.6-3-4.3-4.3-.5-1-.6-2.8 0-3.4.6-.6 2.4-.5 3.4 0C7 3.1 10 6.7 10 6.7c0 .6 0 1.1.4 1.6l-2.3 2.2zM18.7 17.8l.3-.2 1 .9 2 3-.5.5-3-1.9-1-1.1.3-.3L14 15l1-1 3.7 3.9z"}),React.createElement("path",{d:"M13.2 7.8c-.5-1.6 0-3.3 1.1-4.5a4.5 4.5 0 0 1 4.4-1.1L16 4.7l.7 2.5 2.5.7 2.5-2.5c.4 1.5 0 3.1-1.1 4.3a4.5 4.5 0 0 1-4.6 1.1L5.6 21.4a2.1 2.1 0 0 1-3 0c-.8-.8-.8-2.2 0-3L13.2 7.8zM3.9 21c.5 0 .8-.3.8-.8a.8.8 0 1 0-1.6 0c0 .5.4.8.8.8z"}))},6202:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Synchronizer:()=>x});var n=a(6524),r=a(5582),c=a(3070),o=a(1378),l=a(4135),i=a(6130),s=a(4257);const{useState:u,useCallback:m}=React,p=React.memo((({syncMode:e,setSyncMode:t,lrcDispatch:a,prefState:n})=>{const[c,o]=u(),[l,p]=u(),d=m((()=>{t((e=>0===e?1:0))}),[t]),h=m((()=>{a({type:6,payload:e=>{const t=(0,r.Pz)(e,n);o((e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}))))),p((0,i.L)(e.info))}})}),[a,n]),g=0===e?"select":"highlight",f=["aside-button","syncmode-button","ripple","glow ",g].join(" ");return React.createElement("aside",{className:"aside-panel"},React.createElement("button",{className:f,onClick:d,"aria-label":`${g} mode`},React.createElement(s.hL,null)),React.createElement("a",{href:c,download:l,className:"aside-button ripple glow",onClick:h},React.createElement(s.ID,null)))}));p.displayName=p.name;const{useState:d,useEffect:h,useRef:g}=React,f=({fixed:e})=>{const t=g(Symbol(f.name)),[a,n]=d(c._m.currentTime),[o,l]=d(c._m.paused),[i,s]=d(c._m.playbackRate);return h((()=>c.uQ.sub(t.current,(e=>{switch(e.type){case 0:l(e.payload);break;case 2:s(e.payload)}}))),[]),h((()=>{const a=[1,10,100,1e3][e]*i;if(o||2*a>60)return c.hh.sub(t.current,(e=>{n(e)}));{const e=setInterval((()=>{n(c._m.currentTime)}),1e3/(2*a));return()=>{clearInterval(e)}}}),[e,o,i]),React.createElement("time",{className:"curser"},(0,r.Zr)(a,e))},{useCallback:v,useContext:y,useEffect:R,useRef:E,useState:b}=React,w=({sync:e})=>React.createElement("button",{className:"space-button",onClick:e},"space"),x=({state:e,dispatch:t})=>{const a=E(Symbol(x.name)),{selectIndex:r,currentIndex:i}=e,{prefState:s,lang:u}=y(l.T);R((()=>{t({type:3,payload:{name:"tool",value:`${u.app.name} https://lrc-maker.github.io`}})}),[t,u]);const[m,d]=b((()=>sessionStorage.getItem("sync-mode")===1..toString()?1:0));R((()=>{sessionStorage.setItem("sync-mode",m.toString())}),[m]);const h=E(null),g={0:r,1:i}[m];R((()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.children[g];void 0!==t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),[g]),R((()=>c.hh.sub(a.current,(e=>{t({type:1,payload:e})}))),[t]);const f=v((()=>{c._m.duration&&t({type:2,payload:c._m.currentTime})}),[t]);R((()=>{const e=e=>{const{code:a,key:n,target:r}=e,c=a||n;if(!(0,o.y)(r))return"Backspace"===c||"Delete"===c||"Del"===c?(e.preventDefault(),void t({type:5,payload:void 0})):void(!0!==e.metaKey&&!0!==e.ctrlKey&&("Space"===a||" "===n||"Spacebar"===n?(e.preventDefault(),f()):["ArrowUp","KeyW","KeyJ","Up","W","w","J","j"].includes(c)?(e.preventDefault(),t({type:4,payload:e=>e-1})):["ArrowDown","KeyS","KeyK","Down","S","s","K","k"].includes(c)?(e.preventDefault(),t({type:4,payload:e=>e+1})):"Home"===c?(e.preventDefault(),t({type:4,payload:()=>0})):"End"===c?(e.preventDefault(),t({type:4,payload:()=>1/0})):"PageUp"===c?(e.preventDefault(),t({type:4,payload:e=>e-10})):"PageDown"===c&&(e.preventDefault(),t({type:4,payload:e=>e+10}))))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t,f]);const N=v((e=>{e.stopPropagation();const a=e.target;if(a.classList.contains("line")){const e=Number.parseInt(a.dataset.key,10)||0;t({type:4,payload:()=>e})}}),[t]),T=v((e=>{if(e.stopPropagation(),!c._m.duration)return;const a=e.target;if(a.classList.contains("line")){const e=Number.parseInt(a.dataset.key,10);t({type:6,payload:({lyric:t})=>{const a=t[e].time;void 0!==a&&(c._m.currentTime=(0,n.l)(a,0,c._m.duration))}})}}),[t]),S=v(((e,t,a)=>{const n=t===r,c=t===i,o=t>0&&a[t].time<=a[t-1].time,l=Object.entries({line:!0,select:n,highlight:c,error:o}).reduce(((e,[t,a])=>(a&&e.push(t),e)),[]).join(" ");return React.createElement(k,{key:t,index:t,className:l,line:e,select:n,prefState:s})}),[r,i,s]),C=s.screenButton?"lyric-list on-screen-button":"lyric-list";return React.createElement(React.Fragment,null,React.createElement("ul",{ref:h,className:C,onClickCapture:N,onDoubleClickCapture:T},e.lyric.map(S)),React.createElement(p,{syncMode:m,setSyncMode:d,lrcDispatch:t,prefState:s}),s.screenButton&&React.createElement(w,{sync:f}))},k=({line:e,index:t,select:a,className:n,prefState:c})=>{const o=(0,r.Zr)(e.time,c.fixed),l=(0,r.RZ)(e.text,c.spaceStart,c.spaceEnd);return React.createElement("li",{key:t,"data-key":t,className:n},a&&React.createElement(f,{fixed:c.fixed}),React.createElement("time",{className:"line-time"},o),React.createElement("span",{className:"line-text"},l))}},5425:(e,t,a)=>{"use strict";a.d(t,{N:()=>c,F:()=>m});var n=a(9010),r=a(4257);const c=(0,n.P)(),{useCallback:o,useEffect:l,useRef:i,useState:s}=React,u={id:0},m=()=>{const e=i(Symbol(m.name)),[t,a]=s([]);l((()=>{c.sub(e.current,(e=>{a((t=>[Object.assign({id:u.id++},e),...t]))}))}),[]);const n=o((e=>{"slideOutRight"===e.animationName&&a((e=>e.slice(0,-1)))}),[]),p=o((e=>{const t={info:React.createElement(r.go,null),success:React.createElement(r.Jm,null),warning:React.createElement(r.Cn,null)}[e.type];return React.createElement("section",{className:"toast",key:e.id},React.createElement("section",{className:`toast-badge toast-${e.type}`},t),React.createElement("section",{className:"toast-text"},e.text))}),[]);return React.createElement("div",{className:"toast-queue",onAnimationEnd:n},t.map(p))}},6524:(e,t,a)=>{"use strict";a.d(t,{l:()=>r,h:()=>l});var n=a(5582);const r=(e,t,a)=>e<t?t:e>a?a:e,c=(e,t)=>{switch(t.type){case 0:{const{text:a,options:c}=t.payload,o=(0,n.E2)(a,c),l=r(e.selectIndex,0,o.lyric.length-1);return Object.assign(Object.assign(Object.assign({},e),o),{selectIndex:l})}case 1:{const a=t.payload;if(a>=e.currentTime&&a<e.nextTime)return e;const n=e.lyric.reduce(((e,t,n)=>(t.time&&(t.time<e.nextTime&&t.time>a&&(e.nextTime=t.time,e.nextIndex=n),t.time>e.currentTime&&t.time<=a&&(e.currentTime=t.time,e.currentIndex=n)),e)),{currentTime:-1/0,currentIndex:-1/0,nextTime:1/0,nextIndex:1/0});return((e,t)=>{for(const a in t)if(e[a]!==t[a])return Object.assign(Object.assign({},e),t);return e})(e,n)}case 2:{const a=t.payload,n=e.selectIndex;let c=e.lyric;if(c[n].time!==a){const e=c.slice();e[n]={text:c[n].text,time:a},c=e}const o=r(n+1,0,c.length-1);return Object.assign(Object.assign({},e),{lyric:c,selectIndex:o,currentTime:a,nextTime:-1/0})}case 3:{const{name:a,value:n}=t.payload,r=new Map(e.info);return""===n.trim()?r.delete(a):r.set(a,n.trim()),Object.assign(Object.assign({},e),{info:r})}case 4:{const a=r(t.payload(e.selectIndex),0,e.lyric.length-1);return e.selectIndex===a?e:Object.assign(Object.assign({},e),{selectIndex:a})}case 5:{const{selectIndex:t,currentIndex:a}=e;let n=e.lyric;if(void 0!==n[t].time){const r=n.slice();r[t]={text:n[t].text},n=r;let{currentTime:c,nextTime:o}=e;return t===a&&(c=1/0,o=-1/0),Object.assign(Object.assign({},e),{lyric:n,currentTime:c,nextTime:o})}return e}case 6:return t.payload(e),e}return e},o=e=>{const{text:t,options:a,select:r}=e();return Object.assign(Object.assign({},(0,n.E2)(t,a)),{currentTime:1/0,currentIndex:1/0,nextTime:-1/0,nextIndex:-1/0,selectIndex:r})},l=e=>React.useReducer(c,e,o)},6523:(e,t,a)=>{"use strict";a.d(t,{um:()=>n,EN:()=>r,f6:()=>i});const n=JSON.parse(document.getElementById("app-info").textContent),r={orange:"#ff691f",yellow:"#fab81e",lime:"#7fdbb6",green:"#19cf86",blue:"#91d2fa",navy:"#1b95e0",grey:"#abb8c2",red:"#e81c4f",pink:"#f58ea8",purple:"#c877fe"},c={lang:"en-US",spaceStart:1,spaceEnd:0,fixed:3,builtInAudio:!1,screenButton:!1,themeColor:r.pink,themeMode:0},o=(e,t)=>{const a=t.payload;return Object.assign(Object.assign({},e),{[t.type]:"function"==typeof a?a(e):a})},l=e=>{const t=c,a=navigator.languages||[navigator.language||"en-US"];t.lang=a.map((e=>"zh"===e?"zh-CN":e.startsWith("en")?"en-US":e)).find((e=>e in n.languages))||"en-US";try{const a=JSON.parse(e()),n=Object.keys(c);for(const e of n)e in a&&(t[e]=a[e])}catch(r){}return t},i=e=>React.useReducer(o,e,l)},5183:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"English",app:{name:"LRC Maker",fullname:"Akari's LRC Maker"},header:{home:"home",editor:"editor",synchronizer:"synchronizer",gist:"Githu Gist",preferences:"preferences"},audio:{loadAudio:"load audio",play:"play",pause:"pause",replay5s:"replay 5s",forward5s:"forward 5s",resetRate:"reset playback rate",error:["audio error","audio aborted by user","audio network error","audio decoding error","audio not supported"]},loadAudio:{file:"File",url:"URL",loadFile:"Click here or drop audio file in this page"},home:{tips:"Tips",tipForLyricText:"Navigate to the editor page and paste lyric text.",tipForUploadAudio:"Click the bottom left button to load audio file.",tipForSynchronizer:"Navigate to synchronizer page and make your lrc :)",tipTopLeft:"Click here come back to this page",tipTopRight:"Click here to navigate to other page",tipBottomLeft:"load audio here, and control the audio",tipBottomRight:"change the playback rate here"},editor:{metaInfo:"meta info",album:"album",title:"title",artist:"artist",uploadText:"upload text",copyText:"select all and copy",downloadText:"download",saveToGist:"save to Github Gist",saveFileName:"Filename",utils:"lrc utils"},gist:{newTokenTip:"LRC Maker use Github Token to fetch and store data to Github Gist",newTokenButton:"Generate a new Github Token",newGistTip:"Create a new Gist repository or assign an existing Gist id",newGistRepoButton:"Create a new Gist Repository",gistIdPlaceholder:"Or assign an existing Gist id",info:"info",clearTokenAndGist:"Clear token and Gist id"},preferences:{version:"Version",commitHash:"Commit hash",updateTime:"Update time",repo:"Repository",help:"Help & tips",language:"Language",builtInAudio:"Use browser built-in audio player",spaceButton:"On-screen space key",themeColor:"Theme color",lrcFormat:"LRC formtat adjust",fixed:"Timestamp fixed",leftSpace:"Left space",rightSpace:"Right space",clearCache:"Clear caches",themeMode:{label:"Theme Mode",auto:"auto",light:"light",dark:"dark"}},notify:{audioLoaded:"Audio loaded."}}},2869:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"日本語",app:{name:"歌詞スクロールちゃん",fullname:"あかりの歌詞スクロールちゃん"},header:{home:"ホームページ",editor:"編集",synchronizer:"同期",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"オーディオファイルを読み込む",play:"再生",pause:"停止",replay5s:"5秒戻る",forward5s:"5秒進む",resetRate:"再生速度をリセット",error:["オーディオエラー","オーディオダウンロードエラー","オーディオネットワークエラー","オーディオデコードエラー","ブラウザでサポートされていないオーディオ"]},loadAudio:{file:"ファイル",url:"URL",loadFile:"ここをクリックするか、このページにオーディオファイルをドロップしてください"},home:{tips:"プロンプト",tipForLyricText:"編集ページに切り替えて歌詞のテキストを貼り付けます。",tipForUploadAudio:"左下のボタンをクリックしてオーディオファイルをロードします。",tipForSynchronizer:"同期ページに切り替えてスクロール歌詞を作り始めます〜",tipTopLeft:"このヘルプページに戻るにはここをクリック",tipTopRight:"ページを切り替えるにはここをクリック",tipBottomLeft:"ここでオーディオをロードして再生を制御できます。",tipBottomRight:"ここでは再生速度を変更できます"},editor:{metaInfo:"メタ情報",album:"アルバム",title:"曲名",artist:"アーティスト名",uploadText:"テキストを読み込む",copyText:"すべて選択してコピー",downloadText:"ダウンロード",saveToGist:"Github Gistに保存",saveFileName:"ファイル名",utils:"lrc utils"},gist:{newTokenTip:"歌詞スクロールちゃんはGithub Gistにデータを取得して保存するためにGithubトークンを使用します",newTokenButton:"新しいGithubトークンを生成する",newGistTip:"新しいGistリポジトリを作成するか、既存のGist IDを割り当てます",newGistRepoButton:"新しいGistリポジトリを作成する",gistIdPlaceholder:"または既存のGist IDを割り当てる",info:"情報",clearTokenAndGist:"クリアトークンとGIST ID"},preferences:{version:"バージョン",commitHash:"Commit hash",updateTime:"更新時間",repo:"プロジェクトURL",help:"について＆ヘルプ",language:"言語(language)",builtInAudio:"ブラウザ内蔵のオーディオプレーヤーを使用する",spaceButton:"画面上のスペースキー",themeColor:"テーマカラー",lrcFormat:"歌詞出力フォーマット制御",fixed:"タイムスタンプ小数点",leftSpace:"左側のスペース",rightSpace:"右側スペース",clearCache:"キャッシュをクリア",themeMode:{label:"テーマモード",auto:"自動",light:"ライト",dark:"ダーク"}},notify:{audioLoaded:"オーディオがロードされました"}}},1131:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"한국어",app:{name:"LRC 메이커",fullname:"Akari의 LRC 메이커"},header:{home:"홈",editor:"편집기",synchronizer:"동기화",gist:"Github Gist",preferences:"설정"},audio:{loadAudio:"음원 로드하기",play:"재생",pause:"일시 중지",replay5s:"5초 뒤로 가기",forward5s:"5초 건더 뛰기",resetRate:"재생 속도 다시 설정",error:["오디오 오류","사용자가 오디오를 중단됨","오디오 넷워크 오류","오디오 디코딩 오류","오디오 지원하지 앖습니다"]},loadAudio:{file:"파일",url:"링크",loadFile:"여기로 파일 선택하기 또는 오디오 파일을 이 페이지에 드롭하기"},home:{tips:"팁",tipForLyricText:"편집기 페이지에 가사 텍스트를 붙여넣기.",tipForUploadAudio:"왼쪽 하단에는 버튼 클릭하면 오디오 파일 로드하기.",tipForSynchronizer:"동기화 페이기에 당신의 가사를 만드세요 :)",tipTopLeft:"에기에 클릭하면  이 페이지 돌아와세요",tipTopRight:"에기에 다른 페이지 탐색하세요",tipBottomLeft:"여기에 오리오를 로드하고 제어하세요",tipBottomRight:"여기에 재생 속도를 조정하세요"},editor:{metaInfo:"메타 정보",album:"앨범",title:"트랙 이름",artist:"아티스트",uploadText:"텍스트 업로드",copyText:"모두 선택 및 복사",downloadText:"다운로드",saveToGist:"GitHub Gist에 저장하기",saveFileName:"파일 이름",utils:"lrc 도구"},gist:{newTokenTip:"LRC 메이커는 GitHub 토큰으로 GitHub Gist 에서 데이터를 접근하고 저장합니다",newTokenButton:"새로운 GitHub 토큰 생성하기",newGistTip:"Create a new Gist repository or assign an existing Gist id",newGistRepoButton:"Create a new Gist Repository",gistIdPlaceholder:"Or assign an existing Gist id",info:"info",clearTokenAndGist:"Clear token and Gist id"},preferences:{version:"버전",commitHash:"토밋 헤시",updateTime:"업데이트 시간",repo:"저장고",help:"도움말 및 팁",language:"언어(language)",builtInAudio:"브라우저 빌트인 오디오 재생기 사용하기",spaceButton:"온 스크린 스페이스 키",themeColor:"모양색",lrcFormat:"LRC 포멧 조정",fixed:"타임 스템 고치됨",leftSpace:"왼쪽 스페이스",rightSpace:"오른쪽 스페이스",clearCache:"캐시 제거",themeMode:{label:"모양 모드",auto:"자동",light:"라이트",dark:"다크"}},notify:{audioLoaded:"음원 로드됨"}}},7004:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"简体中文",app:{name:"歌词滚动姬",fullname:"灯里的歌词滚动姬"},header:{home:"主页",editor:"编辑",synchronizer:"打轴",gist:"Githu Gist",preferences:"设置"},audio:{loadAudio:"加载音频",play:"播放",pause:"暂停",replay5s:"后退 5 秒",forward5s:"前进 5 秒",resetRate:"重置播放速度",error:["音频错误","音频请求被用户终止","音频网络请求错误","音频解码错误","浏览器无法支持此音频格式"]},loadAudio:{file:"文件",url:"外链",loadFile:"点击这里或直接拖放音频到这个页面"},home:{tips:"提示",tipForLyricText:"切换到编辑页面，粘贴歌词文本。",tipForUploadAudio:"点击左下方按钮，载入音频文件。",tipForSynchronizer:"切换到打轴页面，开始制作滚动歌词吧～",tipTopLeft:"点击这里可以回到这个帮助页面",tipTopRight:"点击这里切换页面",tipBottomLeft:"这里可以加载音频，控制播放",tipBottomRight:"这里可以调节播放速度"},editor:{metaInfo:"元信息",album:"所属专辑",title:"歌曲名",artist:"艺人名",uploadText:"加载文本",copyText:"全选复制",downloadText:"下载",saveToGist:"保存到 Github Gist",saveFileName:"文件名",utils:"实用工具"},gist:{newTokenTip:"歌词滚动姬使用 Github Token 来存取 Github Gist 上的数据",newTokenButton:"生成新的 Github Token",newGistTip:"创建一个新的 Gist 仓库或指定一个已存在的 Gist id",newGistRepoButton:"创建一个新的 Gist 仓库",gistIdPlaceholder:"或指定一个已存在的 Gist id",info:"信息",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新时间",repo:"项目地址",help:"关于 & 帮助",language:"语言(language)",builtInAudio:"使用浏览器内建音频播放器",spaceButton:"启用虚拟空格键",themeColor:"主题颜色",lrcFormat:"歌词输出格式控制",fixed:"时间标签小数点",leftSpace:"左侧空格",rightSpace:"右侧空格",clearCache:"清除缓存",themeMode:{label:"主题模式",auto:"跟随系统",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音频已载入"}}},5187:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"繁體中文(香港)",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網絡請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裏或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裏可以回到這個幫助頁面",tipTopRight:"點選這裏切換頁面",tipBottomLeft:"這裏可以加載音訊，控制播放",tipBottomRight:"這裏可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言(language)",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取",themeMode:{label:"主題模式",auto:"跟隨系統",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音訊已匯入"}}},3904:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"繁體中文",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Githu Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網路請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裡或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裡可以回到這個幫助頁面",tipTopRight:"點選這裡切換頁面",tipBottomLeft:"這裡可以加載音訊，控制播放",tipBottomRight:"這裡可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言(language)",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取",themeMode:{label:"主題模式",auto:"跟隨系統",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音訊已匯入"}}},5582:(e,t,a)=>{"use strict";a.d(t,{E2:()=>n,Zr:()=>c,RZ:()=>o,Pz:()=>l});const n=(e,t={})=>{const{trimStart:a=!1,trimEnd:n=!1}=t,r=e.split(/\r\n|\n|\r/u),c=/\[\s*(\d{1,3}):(\d{1,2}(?:[:.]\d{1,3})?)\s*]/g,o=/\[\s*(\w{1,6})\s*:(.*?)]/,l=new Map,i=[];for(const s of r){if("["!==s[0]){i.push({text:s});continue}c.lastIndex=0;const e=c.exec(s);if(null!==e){const t=Number.parseInt(e[1],10),a=Number.parseFloat(e[2].replace(":",".")),n=s.slice(c.lastIndex);i.push({time:60*t+a,text:n});continue}const t=o.exec(s);if(null===t)i.push({text:s});else{const e=t[2].trim();if(""===e)continue;l.set(t[1],e)}}return(a||n)&&i.forEach((e=>{a&&(e.text=e.text.trimStart()),n&&(e.text=e.text.trimEnd())})),{info:l,lyric:i}},r=new Map,c=(e,t,a=!0)=>{if(void 0===e)return"";const n=(e=>{if(r.has(e))return r.get(e);const t=new Intl.NumberFormat("en",{minimumIntegerDigits:2,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1});return r.set(e,t),t})(t),c=Math.floor(e/60).toString().padStart(2,"0"),o=n.format(e%60);return a?`[${c}:${o}]`:`${c}:${o}`},o=(e,t,a)=>{let n=e;return t>=0&&(n=" ".repeat(t)+n.trimStart()),a>=0&&(n=n.trimEnd()+" ".repeat(a)),n},l=(e,t)=>{const{spaceStart:a,spaceEnd:n,fixed:r,endOfLine:l="\r\n"}=t,i=Array.from(e.info.entries()).map((([e,t])=>`[${e}: ${t}]`)),s=e.lyric.map((e=>{if(void 0===e.time)return e.text;const t=o(e.text,a,n);return`${c(e.time,r)}${t}`}));return i.concat(s).join(l)}},6547:(e,t,a)=>{"use strict";a.r(t),t.default=(()=>{const e=performance||Date,t={current:0},a=()=>{cancelAnimationFrame(t.current),r()},n={passive:!0,once:!0},r=()=>{window.removeEventListener("wheel",a),window.removeEventListener("touchmove",a)},c=a=>{const n=e.now(),{startTime:o,startX:l,startY:i,stopY:s}=a,u=(n-o)/468;if(u>=1)return a.method(l,s),void r();var m;const p=i+(s-i)*(m=u,.5*(1-Math.cos(Math.PI*m)));a.method(l,p),p!==s&&(t.current=requestAnimationFrame((()=>c(a))))},o=document.scrollingElement||document.documentElement;Element.prototype.scrollIntoView=function(){const{top:r,bottom:l}=this.getBoundingClientRect(),i=(r+l)/2,s=window.visualViewport?window.visualViewport.height:innerHeight,u=o.scrollLeft,m=o.scrollTop,p=m+i-s/2;cancelAnimationFrame(t.current),window.addEventListener("wheel",a,n),window.addEventListener("touchmove",a,n),c({method:(e,t)=>window.scroll(e,t),startTime:e.now(),startX:u,startY:m,stopY:p})}})()},3070:(e,t,a)=>{"use strict";a.d(t,{_m:()=>r,uQ:()=>c,hh:()=>o});var n=a(9010);const r={current:null,get src(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.src)&&void 0!==t?t:""},get duration(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get paused(){var e,t;return null===(t=null===(e=this.current)||void 0===e?void 0:e.paused)||void 0===t||t},get playbackRate(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.playbackRate)&&void 0!==t?t:1},set playbackRate(e){null!==this.current&&(this.current.playbackRate=e)},get currentTime(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},set currentTime(e){null!==this.current&&0!==this.current.duration&&(this.current.currentTime=e)},step(e,t){e.altKey&&(t*=.2),e.shiftKey&&(t*=.5),this.currentTime+=t},toggle(){var e;(null===(e=this.current)||void 0===e?void 0:e.duration)&&(this.current.paused?this.current.play():this.current.pause())}},c=(0,n.P)(),o=(0,n.P)()},1632:(e,t,a)=>{"use strict";a.d(t,{uE:()=>c,xf:()=>o,kf:()=>l,Lf:()=>i,cn:()=>s});var n=a(3940);const r="https://api.github.com/gists",c=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"GET",headers:{Authorization:`token ${e}`},mode:"cors"});if(!t.ok)throw new Error(t.statusText);return t.json()})),o=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"POST",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",public:!0,files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!t.ok)throw new Error(t.statusText);return t.json()})),l=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),a=yield fetch(`${r}/${t}`,{method:"PATCH",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!a.ok)throw new Error(a.statusText);return a.json()})),i=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),a=localStorage.getItem("lrc-maker-gist-etag"),n=yield fetch(`${r}/${t}`,{headers:{Authorization:`token ${e}`,"If-None-Match":a}});if(!n.ok&&n.status>=400)throw yield n.json();localStorage.setItem("lrc-maker-gist-etag",n.headers.get("etag"));const c={"x-ratelimit-limit":n.headers.get("x-ratelimit-limit"),"x-ratelimit-remaining":n.headers.get("x-ratelimit-remaining"),"x-ratelimit-reset":n.headers.get("x-ratelimit-reset")};return sessionStorage.setItem("x-ratelimit",JSON.stringify(c)),200===n.status?n.json():null})),s=(e,t)=>(0,n.mG)(void 0,void 0,void 0,(function*(){const a=localStorage.getItem("lrc-maker-oauth-token"),n=localStorage.getItem("lrc-maker-gist-id"),c=yield fetch(`${r}/${n}`,{method:"PATCH",headers:{Authorization:`token ${a}`},body:JSON.stringify({files:{[e]:{content:t}}})});if(!c.ok)throw new Error(c.statusText);return c.json()}))},1378:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});const n=e=>{if(null===e)return!1;const t=e.type;return"textarea"===t||"text"===t||"url"===t}},6130:(e,t,a)=>{"use strict";a.d(t,{L:()=>n});const n=e=>{const t=[e.get("ti"),e.get("ar")].filter((e=>!!e));return 0===t.length&&(e.has("al")&&t.push(e.get("al")),t.push((new Date).toLocaleString())),t.map((e=>(e=>e.replace(/[<>:"/\\|?*]/g,"_").trim())(e))).join(" - ")+".lrc"}},9010:(e,t,a)=>{"use strict";a.d(t,{P:()=>n});const n=()=>{const e=new Map;return{pub:t=>{e.forEach((e=>e(t)))},sub:(t,a)=>(e.set(t,a),()=>{e.delete(t)})}}},8777:(e,t,a)=>{a(8183);var n=a(3145);e.exports=n("Array","includes")},87:(e,t,a)=>{a(6900);var n=a(7290);e.exports=n.Object.entries},7367:(e,t,a)=>{a(9457);var n=a(7290);e.exports=n.Object.values},2527:(e,t,a)=>{a(3060);var n=a(3145);e.exports=n("String","padEnd")},5831:(e,t,a)=>{a(1682);var n=a(3145);e.exports=n("String","padStart")},8641:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},6677:(e,t,a)=>{var n=a(2280),r=a(1569),c=a(6385),o=n("unscopables"),l=Array.prototype;null==l[o]&&c.f(l,o,{configurable:!0,value:r(null)}),e.exports=function(e){l[o][e]=!0}},3875:(e,t,a)=>{var n=a(2786);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},7190:(e,t,a)=>{var n=a(9580),r=a(5108),c=a(2565),o=function(e){return function(t,a,o){var l,i=n(t),s=r(i.length),u=c(o,s);if(e&&a!=a){for(;s>u;)if((l=i[u++])!=l)return!0}else for(;s>u;u++)if((e||u in i)&&i[u]===a)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},9159:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},3870:(e,t,a)=>{var n=a(454),r=a(1561),c=a(6012),o=a(6385);e.exports=function(e,t){for(var a=r(t),l=o.f,i=c.f,s=0;s<a.length;s++){var u=a[s];n(e,u)||l(e,u,i(t,u))}}},5899:(e,t,a)=>{var n=a(7493),r=a(6385),c=a(9199);e.exports=n?function(e,t,a){return r.f(e,t,c(1,a))}:function(e,t,a){return e[t]=a,e}},9199:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7493:(e,t,a)=>{var n=a(9044);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2750:(e,t,a)=>{var n=a(8363),r=a(2786),c=n.document,o=r(c)&&r(c.createElement);e.exports=function(e){return o?c.createElement(e):{}}},2647:(e,t,a)=>{var n=a(2773);e.exports=n("navigator","userAgent")||""},1197:(e,t,a)=>{var n,r,c=a(8363),o=a(2647),l=c.process,i=c.Deno,s=l&&l.versions||i&&i.version,u=s&&s.v8;u?r=(n=u.split("."))[0]<4?1:n[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(r=n[1]),e.exports=r&&+r},3145:(e,t,a)=>{var n=a(8363),r=a(8166),c=Function.call;e.exports=function(e,t,a){return r(c,n[e].prototype[t],a)}},8869:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9882:(e,t,a)=>{var n=a(8363),r=a(6012).f,c=a(5899),o=a(5974),l=a(1621),i=a(3870),s=a(6291);e.exports=function(e,t){var a,u,m,p,d,h=e.target,g=e.global,f=e.stat;if(a=g?n:f?n[h]||l(h,{}):(n[h]||{}).prototype)for(u in t){if(p=t[u],m=e.noTargetGet?(d=r(a,u))&&d.value:a[u],!s(g?u:h+(f?".":"#")+u,e.forced)&&void 0!==m){if(typeof p==typeof m)continue;i(p,m)}(e.sham||m&&m.sham)&&c(p,"sham",!0),o(a,u,p,e)}}},9044:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},8166:(e,t,a)=>{var n=a(8641);e.exports=function(e,t,a){if(n(e),void 0===t)return e;switch(a){case 0:return function(){return e.call(t)};case 1:return function(a){return e.call(t,a)};case 2:return function(a,n){return e.call(t,a,n)};case 3:return function(a,n,r){return e.call(t,a,n,r)}}return function(){return e.apply(t,arguments)}}},2773:(e,t,a)=>{var n=a(8363),r=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?r(n[e]):n[e]&&n[e][t]}},8363:(e,t,a)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof a.g&&a.g)||function(){return this}()||Function("return this")()},454:(e,t,a)=>{var n=a(744),r={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return r.call(n(e),t)}},7505:e=>{e.exports={}},7055:(e,t,a)=>{var n=a(2773);e.exports=n("document","documentElement")},7548:(e,t,a)=>{var n=a(7493),r=a(9044),c=a(2750);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a}))},8609:(e,t,a)=>{var n=a(9044),r=a(9159),c="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?c.call(e,""):Object(e)}:Object},6429:(e,t,a)=>{var n=a(9415),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},821:(e,t,a)=>{var n,r,c,o=a(6830),l=a(8363),i=a(2786),s=a(5899),u=a(454),m=a(9415),p=a(466),d=a(7505),h="Object already initialized",g=l.WeakMap;if(o||m.state){var f=m.state||(m.state=new g),v=f.get,y=f.has,R=f.set;n=function(e,t){if(y.call(f,e))throw new TypeError(h);return t.facade=e,R.call(f,e,t),t},r=function(e){return v.call(f,e)||{}},c=function(e){return y.call(f,e)}}else{var E=p("state");d[E]=!0,n=function(e,t){if(u(e,E))throw new TypeError(h);return t.facade=e,s(e,E,t),t},r=function(e){return u(e,E)?e[E]:{}},c=function(e){return u(e,E)}}e.exports={set:n,get:r,has:c,enforce:function(e){return c(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var a;if(!i(t)||(a=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return a}}}},6291:(e,t,a)=>{var n=a(9044),r=/#|\.prototype\./,c=function(e,t){var a=l[o(e)];return a==s||a!=i&&("function"==typeof t?n(t):!!t)},o=c.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=c.data={},i=c.NATIVE="N",s=c.POLYFILL="P";e.exports=c},2786:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1178:e=>{e.exports=!1},6681:(e,t,a)=>{var n=a(2773),r=a(189);e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return"function"==typeof t&&Object(e)instanceof t}},3850:(e,t,a)=>{var n=a(1197),r=a(9044);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},6830:(e,t,a)=>{var n=a(8363),r=a(6429),c=n.WeakMap;e.exports="function"==typeof c&&/native code/.test(r(c))},1569:(e,t,a)=>{var n,r=a(3875),c=a(7840),o=a(8869),l=a(7505),i=a(7055),s=a(2750),u=a(466),m=u("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(r){}var e,t;g="undefined"!=typeof document?document.domain&&n?h(n):((t=s("iframe")).style.display="none",i.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):h(n);for(var a=o.length;a--;)delete g.prototype[o[a]];return g()};l[m]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(p.prototype=r(e),a=new p,p.prototype=null,a[m]=e):a=g(),void 0===t?a:c(a,t)}},7840:(e,t,a)=>{var n=a(7493),r=a(6385),c=a(3875),o=a(667);e.exports=n?Object.defineProperties:function(e,t){c(e);for(var a,n=o(t),l=n.length,i=0;l>i;)r.f(e,a=n[i++],t[a]);return e}},6385:(e,t,a)=>{var n=a(7493),r=a(7548),c=a(3875),o=a(383),l=Object.defineProperty;t.f=n?l:function(e,t,a){if(c(e),t=o(t),c(a),r)try{return l(e,t,a)}catch(n){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},6012:(e,t,a)=>{var n=a(7493),r=a(1513),c=a(9199),o=a(9580),l=a(383),i=a(454),s=a(7548),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=o(e),t=l(t),s)try{return u(e,t)}catch(a){}if(i(e,t))return c(!r.f.call(e,t),e[t])}},7994:(e,t,a)=>{var n=a(8794),r=a(8869).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},9612:(e,t)=>{t.f=Object.getOwnPropertySymbols},8794:(e,t,a)=>{var n=a(454),r=a(9580),c=a(7190).indexOf,o=a(7505);e.exports=function(e,t){var a,l=r(e),i=0,s=[];for(a in l)!n(o,a)&&n(l,a)&&s.push(a);for(;t.length>i;)n(l,a=t[i++])&&(~c(s,a)||s.push(a));return s}},667:(e,t,a)=>{var n=a(8794),r=a(8869);e.exports=Object.keys||function(e){return n(e,r)}},1513:(e,t)=>{"use strict";var a={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!a.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:a},8765:(e,t,a)=>{var n=a(7493),r=a(667),c=a(9580),o=a(1513).f,l=function(e){return function(t){for(var a,l=c(t),i=r(l),s=i.length,u=0,m=[];s>u;)a=i[u++],n&&!o.call(l,a)||m.push(e?[a,l[a]]:l[a]);return m}};e.exports={entries:l(!0),values:l(!1)}},7141:(e,t,a)=>{var n=a(2786);e.exports=function(e,t){var a,r;if("string"===t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;if("function"==typeof(a=e.valueOf)&&!n(r=a.call(e)))return r;if("string"!==t&&"function"==typeof(a=e.toString)&&!n(r=a.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},1561:(e,t,a)=>{var n=a(2773),r=a(7994),c=a(9612),o=a(3875);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(o(e)),a=c.f;return a?t.concat(a(e)):t}},7290:(e,t,a)=>{var n=a(8363);e.exports=n},5974:(e,t,a)=>{var n=a(8363),r=a(5899),c=a(454),o=a(1621),l=a(6429),i=a(821),s=i.get,u=i.enforce,m=String(String).split("String");(e.exports=function(e,t,a,l){var i,s=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,d=!!l&&!!l.noTargetGet;"function"==typeof a&&("string"!=typeof t||c(a,"name")||r(a,"name",t),(i=u(a)).source||(i.source=m.join("string"==typeof t?t:""))),e!==n?(s?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=a:r(e,t,a)):p?e[t]=a:o(t,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||l(this)}))},6411:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},1621:(e,t,a)=>{var n=a(8363);e.exports=function(e,t){try{Object.defineProperty(n,e,{value:t,configurable:!0,writable:!0})}catch(a){n[e]=t}return t}},466:(e,t,a)=>{var n=a(3580),r=a(4524),c=n("keys");e.exports=function(e){return c[e]||(c[e]=r(e))}},9415:(e,t,a)=>{var n=a(8363),r=a(1621),c="__core-js_shared__",o=n[c]||r(c,{});e.exports=o},3580:(e,t,a)=>{var n=a(1178),r=a(9415);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.3",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},5167:(e,t,a)=>{var n=a(2647);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},8385:(e,t,a)=>{var n=a(5108),r=a(8967),c=a(6031),o=a(6411),l=Math.ceil,i=function(e){return function(t,a,i){var s,u,m=r(o(t)),p=m.length,d=void 0===i?" ":r(i),h=n(a);return h<=p||""==d?m:(s=h-p,(u=c.call(d,l(s/d.length))).length>s&&(u=u.slice(0,s)),e?m+u:u+m)}};e.exports={start:i(!1),end:i(!0)}},6031:(e,t,a)=>{"use strict";var n=a(8330),r=a(8967),c=a(6411);e.exports=function(e){var t=r(c(this)),a="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(a+=t);return a}},2565:(e,t,a)=>{var n=a(8330),r=Math.max,c=Math.min;e.exports=function(e,t){var a=n(e);return a<0?r(a+t,0):c(a,t)}},9580:(e,t,a)=>{var n=a(8609),r=a(6411);e.exports=function(e){return n(r(e))}},8330:e=>{var t=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:t)(e)}},5108:(e,t,a)=>{var n=a(8330),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},744:(e,t,a)=>{var n=a(6411);e.exports=function(e){return Object(n(e))}},1893:(e,t,a)=>{var n=a(2786),r=a(6681),c=a(7141),o=a(2280)("toPrimitive");e.exports=function(e,t){if(!n(e)||r(e))return e;var a,l=e[o];if(void 0!==l){if(void 0===t&&(t="default"),a=l.call(e,t),!n(a)||r(a))return a;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),c(e,t)}},383:(e,t,a)=>{var n=a(1893),r=a(6681);e.exports=function(e){var t=n(e,"string");return r(t)?t:String(t)}},8967:(e,t,a)=>{var n=a(6681);e.exports=function(e){if(n(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},4524:e=>{var t=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+a).toString(36)}},189:(e,t,a)=>{var n=a(3850);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2280:(e,t,a)=>{var n=a(8363),r=a(3580),c=a(454),o=a(4524),l=a(3850),i=a(189),s=r("wks"),u=n.Symbol,m=i?u:u&&u.withoutSetter||o;e.exports=function(e){return c(s,e)&&(l||"string"==typeof s[e])||(l&&c(u,e)?s[e]=u[e]:s[e]=m("Symbol."+e)),s[e]}},8183:(e,t,a)=>{"use strict";var n=a(9882),r=a(7190).includes,c=a(6677);n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},6900:(e,t,a)=>{var n=a(9882),r=a(8765).entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},9457:(e,t,a)=>{var n=a(9882),r=a(8765).values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},3060:(e,t,a)=>{"use strict";var n=a(9882),r=a(8385).end;n({target:"String",proto:!0,forced:a(5167)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},1682:(e,t,a)=>{"use strict";var n=a(9882),r=a(8385).start;n({target:"String",proto:!0,forced:a(5167)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},3940:(e,t,a)=>{"use strict";a.d(t,{mG:()=>n});function n(e,t,a,n){return new(a||(a=Promise))((function(r,c){function o(e){try{i(n.next(e))}catch(t){c(t)}}function l(e){try{i(n.throw(e))}catch(t){c(t)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,l)}i((n=n.apply(e,t||[])).next())}))}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var c=t[n]={exports:{}};return e[n](c,c.exports,a),c.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";a(8777),a(87),a(7367),a(2527),a(5831)})(),(()=>{"use strict";const e=document.createElement("details"),t=()=>{const t=e.constructor.prototype,a=Object.getOwnPropertyDescriptor(t,"open");Object.defineProperties(t,{open:{get(){var e;return"DETAILS"===this.tagName?this.hasAttribute("open"):null===(e=null==a?void 0:a.get)||void 0===e?void 0:e.call(this)},set(e){var t;if("DETAILS"===this.tagName){if(e!==this.hasAttribute("open")){const e=document.createEvent("Event");e.initEvent("toggle",!1,!1),this.dispatchEvent(e)}return e?this.setAttribute("open",""):this.removeAttribute("open")}return null===(t=null==a?void 0:a.set)||void 0===t?void 0:t.call(this,e)}}}),document.addEventListener("click",(e=>{const t=e.target.closest("summary"),a=null==t?void 0:t.parentElement;a&&"DETAILS"===a.tagName&&(a.open=!a.open)}))};"open"in e||t()})(),(()=>{"use strict";var e=a(4135),t=a(6524),n=a(5582),r=a(3070),c=a(1378),o=a(4257);const{useRef:l,useEffect:i,useCallback:s}=React,u={current:null,get isOpen(){return null!==this.current&&this.current.open},open(){null===this.current||this.current.open||(this.current.open=!0)},close(){null!==this.current&&this.current.open&&(this.current.open=!1)}},m=({setAudioSrc:e,lang:t})=>{const a=l(Symbol(m.name));i((()=>r.uQ.sub(a.current,(e=>{1===e.type&&u.close()}))),[]);const n=s((()=>{const e=e=>{"Escape"!==e.code&&"Escape"!==e.key||u.close()};u.isOpen?window.addEventListener("keydown",e):window.removeEventListener("keydown",e)}),[]),c=s((t=>{t.preventDefault();const a=t.target.elements.namedItem("url"),n=p(a.value);sessionStorage.setItem("audio-src",n),e(n)}),[e]),d=s((e=>{e.target.select()}),[]);return ReactDOM.createPortal(React.createElement("details",{ref:u,className:"dialog fixed loadaudio-dialog",onToggle:n},React.createElement("summary",{className:"dialog-close"},React.createElement(o.b2,null)),React.createElement("section",{className:"dialog-body loadaudio-body"},React.createElement("div",{className:"loadaudio-tab loadaudio-via-file"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-file",defaultChecked:!0}),React.createElement("label",{className:"ripple",htmlFor:"tab-file"},t.loadAudio.file),React.createElement("div",{className:"loadaudio-content"},React.createElement("label",{className:"audio-input-tip",htmlFor:"audio-input"},t.loadAudio.loadFile))),React.createElement("div",{className:"loadaudio-tab loadaudio-via-url"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-url"}),React.createElement("label",{className:"ripple",htmlFor:"tab-url"},t.loadAudio.url),React.createElement("div",{className:"loadaudio-content"},React.createElement("form",{className:"audio-input-form",onSubmit:c},React.createElement("input",{type:"url",name:"url",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,onFocus:d}),React.createElement("input",{className:"button",type:"submit"})))))),document.body)},p=e=>{if(e.includes("music.163.com")){const t=e.match(/\d{4,}/);if(null!==t){return`https://music.163.com/song/media/outer/url?id=${t[0]}.mp3`}}return e},{useContext:d}=React,h=()=>{const{lang:t}=d(e.T);return React.createElement("div",{className:"home"},React.createElement("p",{className:"home-tip home-tip-top-left"},t.home.tipTopLeft),React.createElement("p",{className:"home-tip home-tip-top-right"},t.home.tipTopRight),React.createElement("p",{className:"home-tip home-tip-bottom-left"},t.home.tipBottomLeft),React.createElement("p",{className:"home-tip home-tip-bottom-right"},t.home.tipBottomRight),React.createElement("section",{className:"home-tip-section"},React.createElement("p",null,t.home.tips),React.createElement("ol",null,React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/editor/"},React.createElement(o.JF,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForLyricText))),React.createElement("li",null,React.createElement("span",{className:"home-tip-item",onClick:()=>{u.open()}},React.createElement(o.Mq,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForUploadAudio))),React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/synchronizer/"},React.createElement(o.dZ,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForSynchronizer))))))};document.addEventListener("keydown",(e=>{const{code:t,key:a,target:n}=e;(0,c.y)(n)||("?"===a||"Slash"===t&&e.shiftKey)&&(location.hash="#/")}));var g=a(4350);const{lazy:f,useContext:v,useEffect:y,useRef:R,useState:E}=React,b=f((()=>Promise.resolve().then(a.bind(a,7061)).then((({Eidtor:e})=>({default:e}))))),w=f((()=>Promise.resolve().then(a.bind(a,6202)).then((({Synchronizer:e})=>({default:e}))))),x=f((()=>Promise.resolve().then(a.bind(a,3487)).then((({Gist:e})=>({default:e}))))),k=f((()=>Promise.resolve().then(a.bind(a,7425)).then((({Preferences:e})=>({default:e}))))),N=()=>{const a=R(Symbol(N.name)),{prefState:c,trimOptions:o}=v(e.T,4),[l,i]=E(location.hash);y((()=>{window.addEventListener("hashchange",(()=>{i(location.hash)}))}),[]);const[s,u]=(0,t.h)((()=>({text:localStorage.getItem("lrc-maker-lyric")||"",options:o,select:Number.parseInt(sessionStorage.getItem("select-index"),10)||0})));y((()=>r.uQ.sub(a.current,(e=>{1===e.type&&u({type:3,payload:{name:"length",value:(0,n.Zr)(e.payload,c.fixed,!1)}})}))),[u,c.fixed]),y((()=>{const e=()=>{u({type:6,payload:e=>{localStorage.setItem("lrc-maker-lyric",(0,n.Pz)(e,c)),sessionStorage.setItem("select-index",e.selectIndex.toString())}}),localStorage.setItem("lrc-maker-preferences",JSON.stringify(c))};document.addEventListener("visibilitychange",(()=>{document.hidden&&e()})),window.addEventListener("beforeunload",(()=>{e()}))}),[u,c]),y((()=>{document.documentElement.addEventListener("drop",(e=>{var t;const a=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0];if(a&&(a.type.startsWith("text/")||/(?:\.lrc|\.txt)$/i.test(a.name))){const e=new FileReader,t=()=>{u({type:0,payload:{text:e.result,options:o}})};e.addEventListener("load",t,{once:!0}),location.hash="#/editor/",e.readAsText(a,"utf-8")}}))}),[u,o]),y((()=>{const e={0:"auto",1:"light",2:"dark"};document.documentElement.dataset.theme=e[c.themeMode]}),[c.themeMode]),y((()=>{const e=S(c.themeColor);document.documentElement.style.setProperty("--theme-rgb",e.join(", "));const t=T(...e)+.05,a=t*t>.0525?"var(--black)":"var(--white)";document.documentElement.style.setProperty("--theme-contrast-color",a)}),[c.themeColor]);const m=(()=>{switch(l){case"#/editor/":return React.createElement(b,{lrcState:s,lrcDispatch:u});case"#/synchronizer/":return 0===s.lyric.length?React.createElement(g.DL,null):React.createElement(w,{state:s,dispatch:u});case"#/gist/":return React.createElement(x,{lrcDispatch:u,langName:c.lang});case"#/preferences/":return React.createElement(k,null)}return React.createElement(h,null)})();return React.createElement("main",{className:"app-main"},React.createElement(React.Suspense,{fallback:React.createElement(g.WQ,null)},m))},T=(...e)=>e.map((e=>e/255)).map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))).reduce(((e,t,a)=>e+t*[.2126,.7152,.0722][a]),0),S=e=>{e=e.slice(1);const t=Number.parseInt(e,16);return[t>>16&255,t>>8&255,t>>0&255]},{useState:C,useEffect:L,useRef:I,useCallback:G,useMemo:M}=React,O=({min:e,max:t,step:a,value:n,onInput:r,className:c})=>{const o=(n-e)/(t-e||1);return React.createElement("div",{className:`slider ${c}-slider`},React.createElement("progress",{value:o}),React.createElement("input",{type:"range",className:c,"aria-label":c,min:e,max:t,step:a,value:n,onInput:r}))},z=({duration:e,paused:t})=>{const a=I(Symbol(z.name)),[c,o]=C(r._m.currentTime),[l,i]=C(r._m.playbackRate);L((()=>r.uQ.sub(a.current,(e=>{2===e.type&&i(e.payload)}))),[]),L((()=>{if(t)return r.hh.sub(a.current,(e=>{o(e)}));{const e=setInterval((()=>{o(r._m.currentTime)}),500/l);return()=>{clearInterval(e)}}}),[t,l]);const s=I(0),u=G((e=>{s.current&&cancelAnimationFrame(s.current);const t=e.target.value;s.current=requestAnimationFrame((()=>{const e=Number.parseInt(t,0);o(e),r._m.currentTime=e}))}),[]),m=M((()=>!!e&&" / "+(0,n.Zr)(e,0,!1)),[e]);return React.createElement(React.Fragment,null,React.createElement("time",null,(0,n.Zr)(c,0,!1),m),React.createElement(O,{min:0,max:e,step:1,value:c,className:"timeline",onInput:u}))},j=({lang:e})=>{const t=I(Symbol(j.name)),[a,n]=C(r._m.playbackRate);L((()=>r.uQ.sub(t.current,(e=>{2===e.type&&n(e.payload)}))),[]);const c=M((()=>Math.log(a)),[a]),o=G((e=>{const t=Math.exp(Number.parseFloat(e.target.value));n(t),r._m.playbackRate=t}),[]),l=G((()=>{r._m.playbackRate=1}),[]);return React.createElement(React.Fragment,null,React.createElement("button",{className:"ripple glow",title:e.audio.resetRate,onClick:l},"X ",a.toFixed(2)),React.createElement(O,{className:"playbackrate",min:-1,max:1,step:"any",value:c,onInput:o}))},F=({lang:e})=>{const t=I(Symbol(F.name)),[a,n]=C(r._m.paused),[c,l]=C(r._m.duration);L((()=>r.uQ.sub(t.current,(e=>{switch(e.type){case 1:l(e.payload),n(r._m.paused);break;case 0:n(e.payload)}}))),[]);const i=G((e=>{r._m.step(e,-5)}),[]),s=G((e=>{r._m.step(e,5)}),[]),m=G((()=>{r._m.toggle()}),[]),p=G((()=>{u.open()}),[]);return React.createElement("section",{className:"lrc-audio"+(a?"":" playing")},React.createElement("button",{className:"ripple glow loadaudio-button",title:e.audio.loadAudio,onClick:p},React.createElement(o.Mq,null)),React.createElement("button",{className:"ripple glow",title:e.audio.replay5s,onClick:i,disabled:!c},React.createElement(o.fm,null)),React.createElement("button",{className:"ripple glow",title:a?e.audio.play:e.audio.pause,disabled:!c,onClick:m},a?React.createElement(o.X0,null):React.createElement(o.nf,null)),React.createElement("button",{className:"ripple glow",title:e.audio.forward5s,onClick:s,disabled:!c},React.createElement(o.gi,null)),React.createElement(z,{duration:c,paused:a}),React.createElement(j,{lang:e}))};var A=a(5425);const{useCallback:B,useContext:D,useEffect:P,useReducer:H,useRef:_}=React,U=["audio/*",".ncm",".qmcflac",".qmc0",".qmc1",".qmc2",".qmc3","qmcogg"].join(", "),V=()=>{const{prefState:t,lang:a}=D(e.T,3),[n,o]=H(((e,t)=>(URL.revokeObjectURL(e),t)),void 0,(()=>{let e=sessionStorage.getItem("audio-src");if(null===e&&location.search&&URLSearchParams){const t=new URLSearchParams(location.search),a=t.get("url");if(null!==a)return a;const n=t.get("text")||t.get("title")||"",r=/https?:\/\/\S+/.exec(n);e=r&&p(r[0])}return e}));P((()=>{document.addEventListener("keydown",(e=>{const{code:t,key:a,target:n}=e,o=t||a;if(!(0,c.y)(n)&&r._m.src)if(!0===e.metaKey||!0===e.ctrlKey)if(["ArrowUp","KeyJ","Up","J","j"].includes(o)){e.preventDefault();const t=r._m.playbackRate,a=Math.exp(Math.min(Math.log(t)+.2,1));r._m.playbackRate=a}else if(["ArrowDown","KeyK","Down","K","k"].includes(o)){e.preventDefault();const t=r._m.playbackRate,a=Math.exp(Math.max(Math.log(t)-.2,-1));r._m.playbackRate=a}else"Enter"===o&&(e.preventDefault(),r._m.toggle());else["ArrowLeft","KeyA","KeyH","Left","A","a","H","h"].includes(o)?(e.preventDefault(),r._m.step(e,-5)):["ArrowRight","KeyD","KeyL","Right","D","d","L","l"].includes(o)?(e.preventDefault(),r._m.step(e,5)):"KeyR"!==t&&"R"!==a&&"r"!==a||(e.preventDefault(),r._m.playbackRate=1)}))}),[]),P((()=>{document.documentElement.addEventListener("drop",(e=>{const t=e.dataTransfer.files[0];$(t,o)}))}),[]);const l=B((e=>{const t=e.target.files[0];$(t,o)}),[]),i=_(0),s=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:1,payload:r._m.duration}),A.N.pub({type:"success",text:a.notify.audioLoaded})}),[a]),u=B((()=>{r.hh.pub(r._m.currentTime),i.current=requestAnimationFrame(u)}),[]),d=B((()=>{i.current=requestAnimationFrame(u),r.uQ.pub({type:0,payload:!1})}),[u]),h=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:0,payload:!0})}),[]),g=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:0,payload:!0})}),[]),f=B((()=>{r._m.paused&&r.hh.pub(r._m.currentTime)}),[]),v=B((()=>{r.uQ.pub({type:2,payload:r._m.playbackRate})}),[]),y=B((e=>{const t=e.target.error,n=a.audio.error[t.code]||t.message||a.audio.error[0];A.N.pub({type:"warning",text:n})}),[a]);return React.createElement("footer",{className:"app-footer"},React.createElement("input",{id:"audio-input",type:"file",accept:U,hidden:!0,onChange:l}),React.createElement(m,{setAudioSrc:o,lang:a}),React.createElement("audio",{ref:r._m,src:n,controls:t.builtInAudio,hidden:!t.builtInAudio,onLoadedMetadata:s,onPlay:d,onPause:h,onEnded:g,onTimeUpdate:f,onRateChange:v,onError:y}),t.builtInAudio||React.createElement(F,{lang:a}))},$=(e,t)=>{if(sessionStorage.removeItem("audio-src"),e){if(e.type.startsWith("audio/"))return void t(URL.createObjectURL(e));if(e.name.endsWith(".ncm")){const a=new Worker("./ncmc-worker.js");return a.addEventListener("message",(e=>{if("success"===e.data.type){const a=e.data.payload,n=new Blob([a],{type:q(a)});t(URL.createObjectURL(n))}"error"===e.data.type&&A.N.pub({type:"warning",text:e.data.payload})}),{once:!0}),a.addEventListener("error",(e=>{A.N.pub({type:"warning",text:e.message}),a.terminate()}),{once:!0}),void a.postMessage(e)}if(/\.qmc(?:flac|0|1|2|3)$/.test(e.name)){const a=new Worker("./qmc-worker.js");return a.addEventListener("message",(e=>{if("success"===e.data.type){const a=e.data.payload,n=new Blob([a],{type:q(a)});t(URL.createObjectURL(n))}}),{once:!0}),void a.postMessage(e)}}},q=e=>{switch(new DataView(e.buffer).getUint32(0,!1)){case 1716281667:return"audio/flac";case 1332176723:return"audio/ogg";case 1380533830:case 1463899717:return"audio/wav";default:return"audio/mpeg"}};document.addEventListener("visibilitychange",(()=>{r._m.paused||r._m.toggle()}));const{useContext:K}=React,W=()=>{const{lang:t}=K(e.T,1);return React.createElement("header",{className:"app-header"},React.createElement("a",{id:"/",className:"app-title",title:t.header.home,href:"#/"},React.createElement("span",{className:"app-title-text"},t.app.name),React.createElement("span",{className:"app-title-svg"},React.createElement(o.DP,null))),React.createElement("nav",{className:"app-nav"},React.createElement("a",{id:"/editor/",className:"app-tab",title:t.header.editor,href:"#/editor/"},React.createElement(o.JF,null)),React.createElement("a",{id:"/synchronizer/",className:"app-tab",title:t.header.synchronizer,href:"#/synchronizer/"},React.createElement(o.dZ,null)),React.createElement("a",{id:"/gist/",className:"app-tab",title:t.header.gist,href:"#/gist/"},React.createElement(o.il,null)),React.createElement("a",{id:"/preferences/",className:"app-tab",title:t.header.preferences,href:"#/preferences/"},React.createElement(o.gO,null))))};"scrollBehavior"in document.documentElement.style||Promise.resolve().then(a.bind(a,6547)),ReactDOM.render(React.createElement((()=>React.createElement(e.w,null,React.createElement(W,null),React.createElement(N,null),React.createElement(V,null),React.createElement(A.F,null)))),document.querySelector(".app-container"),(()=>{document.querySelector(".page-loading").remove(),(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&document.addEventListener("click",(e=>{const t=e.target.getAttribute("href");(null==t?void 0:t.startsWith("#"))&&(e.preventDefault(),location.replace(t))})),window.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),window.addEventListener("drop",(e=>{e.preventDefault()}))}))})()})();
//# sourceMappingURL=index.es6.js.map